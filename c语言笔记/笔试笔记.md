## 一行字符串的录入

**第一种方法：使用gets函数**(不推荐使用)

```c
#include <stdio.h>
#include <string.h>

int main() {
  char str[100];
  gets(str);
  //scanf("%s", str);  这种方法不行，因为会忽略掉空格，遇到空格以后就不会再进行写入
  printf("%s", str);
}
```

==**第二种方法**==：使用scanf格式化方法，最简单的方法。

```c
int main() {
  char str[100];
  scanf("%[^\n]%*c", &str);
  printf("%s", str);
}

// 如果要逐个录入并判断可以使用单字符
int main() {
  	char str[100];
    char ch;
    int i=0;
  // ~scanf("%c", &ch)等价于scanf("%c", &ch)!=EOF
    while (~scanf("%c", &ch)) {
        if (ch==' ') {
            continue;
        }
        else {
            str[i]=ch;
            i++;
        }
    }
    printf("%s", str);
}
```



## 输入多行字符串存入数组

```c
int main() {
  	char ch;
    int num;
    scanf("%d", &num);
    char str[num][10];
    int i=0;
    
    // 这种方式每行只能是输进去一个单词
    while (~scanf("%s", &str[i])) {
        i++;
    }
    for (int i=0; i<num; i++) {
        printf("%s\n", str[i]);
    }
}


// 一行可以输入多个字符串
int main () {
    int num=3;
    int i=0;
    char str[100][100];
    // 一维数组：str表示首地址，str+i表示第i个元素
    // 二维数组：str[i]表示第i行的首地址，或者str+i
    while (~scanf("%[^\n]%*c", str[i])) {
        i++;
    }
  	while (~scanf("%[^\n]%*c", str+i)) {
        i++;
    }
}
```



# 指针数组应用举例

```c
#include <stdio.h>
#include <string.h>

int main() {
    void p_sort(char *p[], int n);
    char a[10][10]={0};
    int i=0;
    char *p[3];
    while (~scanf("%[^\n]%*c", a+i)) {
        i++;
    }
    for (int i=0; i<3; i++) {
        p[i]=a[i];
    }
    int num=3;
    p_sort(p, num);
    
    for (int i=0; i<num; i++) {
        printf("%s", p[i]);
    }

    return 0;
}

void p_sort(char *p[], int n) {
    char *temp;
    for (int i=0; i<n; i++) {
        for (int j=i+1; j<n; j++) {
            if (strcmp(p[i],p[j])<0) {
                temp=p[j];
                p[j]=p[i];
                p[i]=temp;
            }
        }
    }
}
```



# 格式化输入字符串为数字的方法sscanf

```c
// 输入的字符串如下：将这些字符数字读为数字
10.70.44.68~255.254.255.0
1.0.0.1~255.0.0.0
192.168.0.2~255.255.255.0
19..0.~255.255.255.0

int main() {
    char str[31];
    int ip[4];
    int mask[4];
    int a,b,c,d,e,err,own;
    while (~scanf("%[^\n]%*c", str)) {
        int res=sscanf(str, "%d.%d.%d.%d~%d.%d.%d.%d", ip, ip+1,ip+2,ip+3, mask,mask+1,mask+2,mask+3);
        // 读入成功的话会返回读入成功的个数
        printf("%d\n", res);
    }
    return 0;
}
```

