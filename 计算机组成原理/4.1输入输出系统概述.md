# 输入输出系统概述

## 一、输入输出系统的发展概况

1.早期：分散连接，CPU和IO设备<mark>串行</mark>工作，使用程序查询方式

2.接口模块和DMA阶段：总线连接，CPU和IO设备并行工作，包括中断方式和DMA方式

3.具有通道结构的阶段

4.具有IO处理机的阶段

## 二、输入输出系统的组成

### 1.I/O软件

（1）I/O指令

CPU指令的一部分

格式为：`操作码:命令码:设备码`，操作码表示它是一个IO操作，命令码就相当于CPU指令码的操作码，说明要对IO设备执行什么操作，设备码就是设备了

（2）通道指令

通道它是一种小型的DMA,能够直接实现IO设备和主机之间的信息传送，通道指令就是通道自身的指令。

要指出数组的首地址，传送字数，操作命令。如果传输的是字节，要指出字节的具体存储位置，传输到内存的哪一个地址

### 2.I/O设备

设备        I/O接口

设备        设备控制器        通道



## 三、IO设备与主机的联系方式

### 1.IO设备编址方式

（1）统一编址：用取数，存数指令

（2）不统一编址：有专门的IO指令

### 2.设备选址

用<mark>设备选择电路</mark>识别是否被选中

### 3.传送方式

(1)串行

（2）并行

### 4.联络方式

（1）立即响应

（2）异步工作采用应答信号

（3）同步工作采用同步时标

![](/Users/jared/Library/Application%20Support/marktext/images/2021-12-16-20-05-47-image.png)

### 5.IO设备与主机的连接方式

（1）辐射式连接

主机连多台外设备；每台设备都有配有一套控制线路和一组信号线，不便于增删设备

（2）总线连接

<mark>便于增删设备</mark>



## 四、IO设备与主机信息传送的控制方式

1. 程序查询方式
   
   CPU和IO串行工作，IO<mark>准备和工作</mark>的时候踏步等待，CPU效率很低
   
   ![](/Users/jared/Library/Application%20Support/marktext/images/2021-12-16-20-10-03-image.png)

2. 程序中断方式
   
   IO工作分为两部分：
   
   - 自身准备：CPU不查询
   
   - 与主机交换信息：CPU暂停现行工作（打个断点保存当前记录，等到IO传送完毕以后，恢复断点继续工作）
   
   CPU和IO部分进行了并行工作，没有踏步等待现象，但是在IO设备交换数据的时候还是会进行等待。
   
   ![](/Users/jared/Library/Application%20Support/marktext/images/2021-12-16-20-13-50-image.png)
   
   ![](/Users/jared/Library/Application%20Support/marktext/images/2021-12-16-20-14-28-image.png)

3. DMA方式
   
   主存和IO之间有一条直接数据通道，不中断现行程序，周期挪用（周期窃取），CPU和IO完全并行工作。
   
   DMA工作时，CPU不能使用地址总线，数据总线，控制总线，但是CPU仍然可以继续执行程序，现代计算机CPU有指令预取功能，所以在不使用总线和访存的情况下仍然可以继续执行。
   
   ![](/Users/jared/Library/Application%20Support/marktext/images/2021-12-16-20-15-44-image.png)

IO系统的自治能力越来越强




