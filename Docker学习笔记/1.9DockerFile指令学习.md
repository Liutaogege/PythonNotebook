# DockerFile指令

![测试](/Users/jared/Downloads/测试.jpeg)

CMD指令只有最后一个才会生效

ENTRYPOINT和CMD类似，但是CMD指令在执行过程中，如果在docker run新增参数，那么CMD指令就会被替代，有可能会报错。但是ENTERPOINT的不会



> 创建自己的centos

```
# 1.dockerfile文件内容
FROM centos
MAINTAINER liutao<197023783@qq.com>
ENV MYPATH /bin/local     #设置默认打开路径
WORKDIR $MYPATH
RUN yum -y install vim
RUN yum -y install net-tools
CMD echo $MYPATH
CMD echo "+++end+++"
CMD /bin/bash

# 2.编译DockerFile文件生成自己镜像
docker build -f dockerfile-centos -t my-centos:1.0

# 3.运行自己的镜像
```

>查看某个镜像的创建过程

```
使用docker history 镜像id
```



>CMD指令和ENTERPOINT的区别示例

```
# 1.cmd指令文件内容
FROM centos
CMD ["ls","-a"]		#表示在docker run的时候打印出工作目录的文件
docker run 镜像id

[root@VM-0-10-centos DockerFile]# docker run e58a2003ef28
.
..
.dockerenv
bin
dev
etc

再使用如下命令：则会报错
docker run 镜像id -l
# 解释：
-l表示打印出工作目录文件详细的情况，但是由于CMD的命令会被-l完全代替，就相当于-l,没这个命令则报错。
要想不报错，使用docker run ls -al

# 2.ENTERPOINT指令文件内容
FROM centos
ENTRYPOINT ["ls","-a"]		#表示在docker run的时候打印出工作目录的文件

使用如下命令则没问题：
docker run 镜像id -l

```

很多命令都很类似，要学会区分

