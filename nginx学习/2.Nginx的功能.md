# Nginx功能

#### 负载均衡

将负载（工作任务）进行平衡、分摊到多个操作单元上进行运行。比如有多个业务服务器，就可以将资源请求进行分发到不同的业务服务器上。

Nginx提供 的负载均衡策略有两种：内置策略和扩展策略，内置策略为轮询，加权轮询，IP hash。扩展策略，就是天马行空，随便搞。

* 轮询：就是逐个循环

![image-20211018194650663](/Users/jared/Library/Application Support/typora-user-images/image-20211018194650663.png)

* 加权轮询：就是根据服务器的能力进行分配

![image-20211018194759758](/Users/jared/Library/Application Support/typora-user-images/image-20211018194759758.png)

* IP hash：

  针对客户端请求的ip进行hash操作，然后根据hash的结果将同一个客户端ip的请求分发给同一台服务器进行处理，可以解决session不共享的问题。（session共享的问题：如果某一用户访问，如果分发到不同的服务器上，就会产生不同的session，则用户数据保存的就不完整，所以要保证在同一台服务器上。但是这种会影响均衡的效果，可以使用redis进行解决）

  ![image-20211018195140554](/Users/jared/Library/Application Support/typora-user-images/image-20211018195140554.png)

#### 动静分离

在软件开发中，有些请求是不需要经过后台处理的（如css,html,jpg,js等文件），这些不需要经过后台处理的文件称为静态文件，让动态网站里的动态网页根据一定规则把不变的资源和经常变的资源区分开来，动静资源做好了拆分以后，我们就可以根据静态资源的特点将其做缓存操作，提高资源响应的速度。

![image-20211018204537682](/Users/jared/Library/Application Support/typora-user-images/image-20211018204537682.png)

