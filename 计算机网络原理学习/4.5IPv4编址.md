# IPv4编址概述

**物理地址/MAC地址**：在网络中，对主机的识别需要依靠地址，在任何一个物理网络中，每个节点的设备都必须有一个唯一的可识别的地址。这个地址就被称为物理地址（或硬件地址或媒体访问控制地址（MAC))

注：（1）不同的物理网络有不同的物理地址，如以太网，令牌环网

（2）物理地址是固化在网络设备上，通常是不能更改的

（3）物理地址只能标识单个设备

采用物理地址标识网络中的主机会有以上3个问题，因此使用ip地址。

**1.Ipv4地址的表示方法**

根据TCP/IP协议，==IP地址用4个字节共32位二进制表示==，由==网络号和主机号两部分组成==

（1）点分十进制法：将每个字节的二进制数转化为0-255的十进制数字，各字节采用 "."分隔。

（2）后缀标记法：在ip地址后加“/",==”/"后的数字表示网络号位数==，



**2.ip地址的组成**
IPv4地址由网络号和主机号两部分组成，其中网络号用来标识一个特定的物理网络，而主机号用来标识该网络中主机的一个特定连接。

![save_share_review_picture_1630324967](/Users/jared/Downloads/save_share_review_picture_1630324967.jpeg)



**3.Ipv4地址的分类与构成**
为适应不同大小的网络，Internet定义了5中类型的ip地址，即A,B,C,D,E类，使用较多的是A，B，C类，D类多用于多播，E类为保留将来使用地址，5类ip地址构成情况如图所示：

（1）A类地址：A类地址第一个字节的第一位为0，其余7位标识网络号，第2，3，4个字节共计24个比特，用于主机号。由网络号和主机号的位数可以知道，A类地址网络数为2^7^(128)个，每个网络包含的主机数为2^24^个。A类地址范围是0.0.0.0-127.255.255.255，网络号全为0和全为1保留用于特殊目的。所以网络有效数为126个，同理，主机数有2^24^-2个。

（2）B类地址：第一个字节的前两位是10，剩下的6位和第2字节的8位共14位二进制数用来表示网络号。所以网络数有2^14^-2个，主机号数有2^16^-2个

（3）C类地址：C类地址第一个字节的前三位是110，剩下的5位和第二、三字节共21位进制数表示网络号，第四个字节的8位二进制用于表示主机号。网络数有2^21^-2个，主机数有2^8^-2个

（4）D类地址：D类地址第一个字节的前四位是1110，多播就是同时把数据发送给一组主机，只有那些已经登记可以接受多播地址的主机才能接受多播的数据包

（5）E类地址，第一个字节的前4位是1111，保留或者用于实验

要分清ip地址属于哪一类，看第一个字节的大小：

==A类		0xxx		1-126==		适用于大型网络

==B类		10xx		128-191==		适用于中型网络

==C类		1110		192-233==		适用于小型网络

网络号表示一个网段，主机号表示该网段下所有的用户



## 特殊ip地址

==网络地址==：网络地址又称为网段地址，网络号不空而主机号全为0的ip地址指同一个网络内的主机，即网络本身。例如172.16.0.0表示“172.16”这个B类网络

==回送地址（本机地址）==：以127开始的ip地址是一个保留地址，如127.0.0.1表示本机地址

==有限广播地址==：网络号和主机号全部是1的ip地址，255.255.255.255

广播地址：网络号不空，主机号全为1的ip地址用于本网段内的广播，称为广播地址

私有地址：IETF分配了具体的A类，B类，C类地址供单位内部使用，这些地址称为私有地址，这是为了避免单位选任选的ip地址与合法的网络地址发生冲突。私有地址可以在不同的内部网络中重复使用。

```
A类私有地址：10.0.0.0-10.255.255.255
B类私有地址：172.16.0.0-172.31.255.255
C类私有地址：192.168.0.0-192.168.255.255
```



## 子网技术

把单一网络划分为多个物理网络，并使用路由器将他们连接起来，子网划分能够使单个网络地址横跨几个物理网络，这些物理网络统称为子网。



**划分子网的方法**
像前面提到的A类地址，B类地址只有两层结构，导致网络上的主机无法根据需要进行分组，所有主机均处在同一级别，如果不讲他们划分成若干个较小的网络，实际上市无法运行的，所以3层结构应运而生。即==网络号，子网号，主机号==，通过网络号确定一个站点，通过子网号确定一个物理子网，通过主机号则确定了一个与子网相连的主机地址

![save_share_review_picture_1630327564](/Users/jared/Downloads/save_share_review_picture_1630327564.jpeg)

子网越多，则所包含的主机数就越少。



==子网掩码==

子网掩码（又称子网屏蔽码），也是用点分十进制表示的32位二进制数，它可以指出一个ip地址中的哪些位对应于网络地址（包括子网地址），哪些位对应于主机地址。==通常是将对应于ip地址中网络地址（网络号和子网号）的所有位设置为1，对应于主机地址（主机号）的所有位都设置为0==.

其表示方法有：点分十进制法，网络前缀标记法。

点分十进制法举例：A类，B类，C类的默认子网掩码为：A（255.0.0.0），B(255.255.0.0），C（255.255.255.0）

网络前缀标记法：比如一个B类网络地址为156.18.0.0，可表示为156.18.0.0/16。如果再使用主机号中的前8位表示子网，可表示为156.18.58.0/24。

**子网数和主机数计算**

子网数计算：2^n^-2个，n为子网位数

主机数：先计算主机号数，n=32-网络号位数-子网号位数，每个子网的主机数就是2^n^-2个