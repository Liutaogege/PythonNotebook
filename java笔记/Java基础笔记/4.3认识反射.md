# 反射机制(Java Reflection)

* 认识反射之前，对静态动态语言先有一个认识。
  * 在程序的执行中根据结构、类型是否发生变化来区分。java是一种静态语言，可以称之为准动态语言。

Reflection(反射)是java被视为动态语言的关键，反射机制是允许程序在执行期间借助于Reflection API取得任何类的内部信息，并能直接操作任意对象的内部属性及方法。

​		获取反射类对象：

​		`Class c = Class.forName("java.lang.String")`

​		在Object类中定义了以下的方法，此方法将被所有子类继承

​		`public final Class getClass()`    该方法返回值类型是一个Class类，此类是java反射的源头，可以通过对象反射出类的名称。

加载完类之后，在堆内存的方法区中就产生了一个class类型的对象（一个类只有一个class对象），这个对象就包含了完整的类的结构信息，我们可以通过这个对象看到类的结构，这个对象就像一面镜子，透过这个镜子看到这个类的结构，所以，形象的称之为反射。

​		正常方式：引入需要的包类名称-》通过new实例化-》取得实例化对象

​		反射方式：实例化对象=》getClass()方法=》得到完整的”包类“名称



## 反射相关的api

* java.lang.Class: 代表一个类
* java.lang.reflect.Method: 代表类的方法
* java.lang.reflect.Field: 代表类的成员变量
* java.lang.reflect.Constructor: 代表类的构造器

## java反射优点和缺点

优点：

​	可以实现动态创建对象和编译，体现出很大的灵活性

缺点：

​	对性能有影响，使用反射基本上是一种解释操作，我们可以告诉jvm，我们希望做什么并且它满足我们的要求，这类操作总是慢于直接执行相同的操作。



